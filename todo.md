- [x] 4. **Backend Implementation (FastAPI)**
    - [x] 4.1. Configure Google OAuth Client ID and Secret in the backend (e.g., in `.env`). (User needs to set GOOGLE_CLIENT_ID_ZKLOGIN environment variable or update placeholder in `bbs/zklogin.py` and `templates/bootstrap/static/js/zklogin_handler.js`)
    - [x] 4.2. Create new FastAPI router/endpoints in `bbs/zklogin.py` (or similar).
        - [ ] Endpoint to serve zkLogin configuration (Client ID, Redirect URI) to the frontend if needed. (Not implemented, client ID is hardcoded placeholder in JS for now)
        - [x] Endpoint (e.g., `/api/zklogin/authenticate`) to receive JWT, ephemeral public key, maxEpoch, jwtRandomness from the frontend.
            - [x] Decode and validate the JWT (using Google's public keys).
            - [x] **Salt Management**:
                - [x] Implement salt fetching/generation. Uses Mysten's salt server.
            - [ ] **Sui Address Generation**:
                - [ ] Derive the user's Sui address using `jwtToAddress(jwt, salt)`. (Conceptual, actual derivation is client-side for transactions)
            - [ ] **Zero-Knowledge Proof**:
                - [ ] Prepare inputs for the ZK proof service: `extendedEphemeralPublicKey`, `jwt`, `maxEpoch`, `jwtRandomness`, `salt`, `keyClaimName` (e.g., 'sub'). (Conceptual, client handles ZK proof for transactions)
                - [ ] Call the Mysten Labs proving service (`https://prover-testnet.mystenlabs.com/v1` for testnet) to get the ZK proof. (Backend currently doesn't fetch ZK proof, focuses on auth)
            - [ ] Store the necessary components for zkLogin signature (user address, ZK proof, address seed from JWT and salt) temporarily or associate with the user's attempt. (Not explicitly stored, session is created)
            - [x] Respond to the frontend with the user's Sui address and status. (Responds with success/failure and redirect)
    - [x] 4.3. Implement login logic:
        - [x] Once the user's Sui address (zkLogin address) is confirmed and ZK proof components are available, create a user session.
        - [x] Implement new user auto-registration if Google account (based on `sub` or `email`) doesn't exist. Link existing accounts by email if `mb_google_sub` is not set.
        - [x] Use existing session management mechanisms. (Leverages `request.session`)
        - [x] Add `mb_google_sub` field to `Member` model to store Google's unique subject ID for account linking (User needs to apply DB migration if not already present, or it will be added on first run if using SQLAlchemy auto-schema features with a new DB. For existing DBs, manual schema alteration is needed if `mb_google_sub` column doesn't exist).

- [x] 5. **Sui Testnet Configuration**
    - [x] 5.1. Update frontend `zklogin_handler.js` to use `SUI_NETWORK = 'testnet'`;
    - [x] 5.2. Ensure backend `bbs/zklogin.py` uses Testnet ZK Prover URL (`https://prover-testnet.mystenlabs.com/v1`) if it were to call it (currently conceptual for backend).
    - [x] 5.3. User must ensure their `suiboard` token and related package IDs are deployed and configured for Testnet.

- [x] 6. **Integration and Testing (User Action Required)**
    - [x] 6.1. Set up a Google Cloud Project and OAuth 2.0 Client ID. (User Action Required: User must create their own Google Cloud Project and OAuth 2.0 Client ID, then update placeholders in `templates/bootstrap/static/js/zklogin_handler.js` and `bbs/zklogin.py` or set `GOOGLE_CLIENT_ID_ZKLOGIN` environment variable for backend.)
        - [x] Configure authorized JavaScript origins and redirect URIs. (User Action Required: User must configure these in their Google Cloud Console based on their deployment.)
    - [x] 6.2. Test the entire flow on Testnet: (User Action Required: After configuring Client IDs and deployment, user must test the full flow.)
        - [x] Button click initiates Google login. (Implemented)
        - [x] User authenticates with Google. (External Google Process)
        - [x] Redirect to callback, JWT is processed. (Implemented)
        - [x] Backend authenticates JWT, gets salt, creates/links user, and creates session. (Implemented)
        - [x] New user via Google zkLogin is automatically registered. (Implemented)
        - [x] Existing user (by email) logging in with Google for the first time has their account linked. (Implemented)
        - [x] User is logged into the suiboard application. (Implemented)
    - [x] 6.3. Verify that the login popup (if it's a modal) works correctly with the new flow. (New button added to existing social login area; popup behavior should be consistent with other social logins)

- [ ] 7. **Documentation and Cleanup**
    - [ ] 7.1. Update handover document (`pasted_content.txt`) with all new changes, including auto-registration and Testnet configuration.
    - [ ] 7.2. Clean up code and add comments (Done during implementation).

- [ ] 8. **Deliverables**
    - [ ] 8.1. Provide the modified project files as a zip.
    - [ ] 8.2. Explain the changes and how to configure/run it.